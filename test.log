---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
      name:  adotest_alltests
       log:  C:\Users\sejjpfd\AppData\Local\0_Code\adotest\test.log
  log type:  text
 opened on:  24 Oct 2024, 11:49:40

. adopath + "./ado"
  [1]  (BASE)      "C:\Program Files\Stata18\ado\base/"
  [2]  (SITE)      "C:\Program Files\Stata18\ado\site/"
  [3]              "."
  [4]  (PERSONAL)  "C:\Users\sejjpfd\ado\personal/"
  [5]  (PLUS)      "C:\Users\sejjpfd\ado\plus/"
  [6]  (OLDPLACE)  "c:\ado/"
  [7]              "./ado"

. clear all

. 
. * Test successful test suite without reporting
. test_package using "test/suite1"
Beginning testing in test/suite1.

================================================================================
FILE: test-0008.do    
TEST CASE 8: .testcase class instances are created and can be updated

> PASS > Pass counter starts at zero.
> PASS > Pass counter successfully hiked to 1.
> PASS > Pass counter successfully hiked to 3.
> PASS > Fail counter starts at zero.
> PASS > Fail counter successfully hiked to 1.
> PASS > Fail counter reset to 0 to pass the test.
> PASS > Object exists and is of class .testcase
> PASS > Has a start time
================================================================================
FILE: test-0009.do    
TEST CASE 9: Check test_assert function

> PASS > test_assert raised error 111 in absence of a .thistest instance
TEST CASE faketest: faketest

> PASS > test_assert reported a pass as expected
TEST CASE faketest: faketest

> PASS > test_assert reported a fail as expected
================================================================================
FILE: test-0018.do    
TEST CASE 18: Verify compare_files detects differences

> PASS > file1 doesn't exist, expect return code 601
> PASS > file2 doesn't exist, expect return code 601
> PASS > Two identifical files should return 1
Files are different
> PASS > Two different files should return 0
Files are different
> PASS > Two different files should return 0
================================================================================
FILE: test-0026.do    
TEST CASE 26: Test get_hash

> PASS > process_stderr does not raise error in presence of empty file
> PASS > process_stderr otherwise raises error and prints stderr
> PASS > process_stderr does not raise error in presence of empty file
> PASS > process_stdout returns correct hash
> PASS > process_stdout returns correct hash when using has no quotes
> PASS > process_stdout raises error when hash is not 64 characters long 1/2
> PASS > process_stdout raises error when hash is not 64 characters long 1/2
> PASS > process_stdout raises error when file is not as expected
> PASS > process_stdout raises error when file is empty
> PASS > get_hash raises error when file does not exist
> PASS > get_hash returns correct hash
> PASS > get_hash successfully returns hash when file is empty
================================================================================
FILE: test-0027.do    
TEST CASE 27: Test test_console

> PASS > If console_file does not exist, expect error code 601
> PASS > If exp is missing, expect error 198 1/2
> PASS > If exp is missing, expect error 198 2/2
> Capturing console output for [describe]

Contains data
 Observations:             0                  
    Variables:             0                  
Sorted by: 
> PASS > The console output matches test/suite1/TC0027/console_describe.txt
> Capturing console output for [describe]

Contains data
 Observations:             1                  
    Variables:             0                  
Sorted by: 
     Note: Dataset has changed since last saved.
> PASS > The console output matches test/suite1/TC0027/console_describe1.txt
> Capturing console output for [describe]

Contains data
 Observations:             1                  
    Variables:             0                  
Sorted by: 
     Note: Dataset has changed since last saved.
> PASS > The console output matches test/suite1/TC0027/console_describe1.txt

----------------------
          |  Frequency
----------+-----------
Age group |           
  20–29   |      2,320
  30–39   |      1,622
  40–49   |      1,272
  50–59   |      1,291
  60–69   |      2,860
  70+     |        986
  Total   |     10,351
----------------------
> PASS > log_something successfully logs output of some code
> Capturing console output for [table agegrp]

----------------------
          |  Frequency
----------+-----------
Age group |           
  20–29   |      2,320
  30–39   |      1,622
  40–49   |      1,272
  50–59   |      1,291
  60–69   |      2,860
  70+     |        986
  Total   |     10,351
----------------------
> PASS > The console output matches test/suite1/TC0027/expected_table1.txt
> Capturing console output for [table agegrp if agegrp <= 3]

----------------------
          |  Frequency
----------+-----------
Age group |           
  20–29   |      2,320
  30–39   |      1,622
  40–49   |      1,272
  Total   |      5,214
----------------------
> PASS > The console output matches test/suite1/TC0027/expected_table1if.txt
================================================================================

Testing complete.

    test_id                                                  test_name   passed   failed   total            start_dttm              end_dttm  
          8   .testcase class instances are created and can be updated        9        0       9   2024-10-24 11:49:40   2024-10-24 11:49:40  
          9                                 Check test_assert function        2        0       2   2024-10-24 11:49:40   2024-10-24 11:49:40  
         18                   Verify compare_files detects differences        5        0       5   2024-10-24 11:49:40   2024-10-24 11:49:53  
         26                                              Test get_hash       12        0      12   2024-10-24 11:49:53   2024-10-24 11:49:59  
         27                                          Test test_console        9        0       9   2024-10-24 11:49:59   2024-10-24 11:50:36  

. 
. * Test successful test suite with reporting
. test_package using "test/suite1", out("test/suite1_reports")
Beginning testing in test/suite1.

================================================================================
FILE: test-0008.do    
TEST CASE 8: .testcase class instances are created and can be updated

> PASS > Pass counter starts at zero.
> PASS > Pass counter successfully hiked to 1.
> PASS > Pass counter successfully hiked to 3.
> PASS > Fail counter starts at zero.
> PASS > Fail counter successfully hiked to 1.
> PASS > Fail counter reset to 0 to pass the test.
> PASS > Object exists and is of class .testcase
> PASS > Has a start time
================================================================================
FILE: test-0009.do    
TEST CASE 9: Check test_assert function

> PASS > test_assert raised error 111 in absence of a .thistest instance
TEST CASE faketest: faketest

> PASS > test_assert reported a pass as expected
TEST CASE faketest: faketest

> PASS > test_assert reported a fail as expected
================================================================================
FILE: test-0018.do    
TEST CASE 18: Verify compare_files detects differences

> PASS > file1 doesn't exist, expect return code 601
> PASS > file2 doesn't exist, expect return code 601
> PASS > Two identifical files should return 1
Files are different
> PASS > Two different files should return 0
Files are different
> PASS > Two different files should return 0
================================================================================
FILE: test-0026.do    
TEST CASE 26: Test get_hash

> PASS > process_stderr does not raise error in presence of empty file
> PASS > process_stderr otherwise raises error and prints stderr
> PASS > process_stderr does not raise error in presence of empty file
> PASS > process_stdout returns correct hash
> PASS > process_stdout returns correct hash when using has no quotes
> PASS > process_stdout raises error when hash is not 64 characters long 1/2
> PASS > process_stdout raises error when hash is not 64 characters long 1/2
> PASS > process_stdout raises error when file is not as expected
> PASS > process_stdout raises error when file is empty
> PASS > get_hash raises error when file does not exist
> PASS > get_hash returns correct hash
> PASS > get_hash successfully returns hash when file is empty
================================================================================
FILE: test-0027.do    
TEST CASE 27: Test test_console

> PASS > If console_file does not exist, expect error code 601
> PASS > If exp is missing, expect error 198 1/2
> PASS > If exp is missing, expect error 198 2/2
> Capturing console output for [describe]

Contains data
 Observations:             0                  
    Variables:             0                  
Sorted by: 
> PASS > The console output matches test/suite1/TC0027/console_describe.txt
> Capturing console output for [describe]

Contains data
 Observations:             1                  
    Variables:             0                  
Sorted by: 
     Note: Dataset has changed since last saved.
> PASS > The console output matches test/suite1/TC0027/console_describe1.txt
> Capturing console output for [describe]

Contains data
 Observations:             1                  
    Variables:             0                  
Sorted by: 
     Note: Dataset has changed since last saved.
> PASS > The console output matches test/suite1/TC0027/console_describe1.txt

----------------------
          |  Frequency
----------+-----------
Age group |           
  20–29   |      2,320
  30–39   |      1,622
  40–49   |      1,272
  50–59   |      1,291
  60–69   |      2,860
  70+     |        986
  Total   |     10,351
----------------------
> PASS > log_something successfully logs output of some code
> Capturing console output for [table agegrp]

----------------------
          |  Frequency
----------+-----------
Age group |           
  20–29   |      2,320
  30–39   |      1,622
  40–49   |      1,272
  50–59   |      1,291
  60–69   |      2,860
  70+     |        986
  Total   |     10,351
----------------------
> PASS > The console output matches test/suite1/TC0027/expected_table1.txt
> Capturing console output for [table agegrp if agegrp <= 3]

----------------------
          |  Frequency
----------+-----------
Age group |           
  20–29   |      2,320
  30–39   |      1,622
  40–49   |      1,272
  Total   |      5,214
----------------------
> PASS > The console output matches test/suite1/TC0027/expected_table1if.txt
================================================================================

Testing complete.

    test_id                                                  test_name   passed   failed   total            start_dttm              end_dttm  
          8   .testcase class instances are created and can be updated        9        0       9   2024-10-24 11:50:37   2024-10-24 11:50:37  
          9                                 Check test_assert function        2        0       2   2024-10-24 11:50:37   2024-10-24 11:50:37  
         18                   Verify compare_files detects differences        5        0       5   2024-10-24 11:50:37   2024-10-24 11:50:51  
         26                                              Test get_hash       12        0      12   2024-10-24 11:50:51   2024-10-24 11:50:56  
         27                                          Test test_console        9        0       9   2024-10-24 11:50:56   2024-10-24 11:51:30  
file test/suite1_reports/test_report_20241024115037.csv saved

. 
. * Test failing test suite with reporting
. test_package using "test/suite2", out("test/suite2_reports")
Beginning testing in test/suite2.

================================================================================
FILE: test-0014.do    
TEST CASE 14: Test reporting of failure by test_package

> PASS > 1+1 = 2
> FAIL > 1+1 <> 3
  -- ERROR MESSAGE ------------------------------------------------
  This assertion is false: 1+1 == 3  
  -----------------------------------------------------------------
================================================================================
FILE: test-0023.do    
TEST CASE 23: test_assert supports 'if' and 'in' inputs

> PASS > 1 and 2 both < 3
> PASS > 1=1 with if
> PASS > 1=1 with if
> PASS > 1<>2 with if
> FAIL > This test must fail due to a null condition
  -- ERROR MESSAGE ------------------------------------------------
  This assertion is false: 1 + 1 == 2 if 2 + 2 == 1 
  -----------------------------------------------------------------
> PASS > 1=1 with in
> PASS > 1=1 with in
> PASS > 1<>2 with in
================================================================================
FILE: test-0027.do    
TEST CASE 27: Test test_console [part expected to fail]

> Capturing console output for [describe]

Contains data
 Observations:             2                  
    Variables:             0                  
Sorted by: 
     Note: Dataset has changed since last saved.
Files are different
> FAIL > The console output does not match test/suite1/TC0027/console_describe.txt
  -- CONSOLE OUTPUT -----------------------------------------------
  Please review output in test_console_2045389890371.log.
  
  -----------------------------------------------------------------
================================================================================

Testing complete.
One or more tests failed.

    test_id                                   test_name   passed   failed   total            start_dttm              end_dttm  
         14   Test reporting of failure by test_package        1        1       2   2024-10-24 11:51:30   2024-10-24 11:51:30  
         23   test_assert supports 'if' and 'in' inputs        7        1       8   2024-10-24 11:51:30   2024-10-24 11:51:30  
         27   Test test_console [part expected to fail]        0        1       1   2024-10-24 11:51:30   2024-10-24 11:51:35  
file test/suite2_reports/test_report_20241024115130.csv saved

. 
. * Show memory content after test suites (must be clear)
. classutil dir

. describe

Contains data
 Observations:             0                  
    Variables:             0                  
Sorted by: 

. log query _all
(closed)
      name:  adotest_alltests
       log:  C:\Users\sejjpfd\AppData\Local\0_Code\adotest\test.log, on
  log type:  text

. log close adotest_alltests
      name:  adotest_alltests
       log:  C:\Users\sejjpfd\AppData\Local\0_Code\adotest\test.log
  log type:  text
 closed on:  24 Oct 2024, 11:51:35
---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
